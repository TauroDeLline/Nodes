# Use Ubuntu 22.04 as the base image
FROM ubuntu:22.04

# Prevent interactive prompts during package installation
ENV DEBIAN_FRONTEND=noninteractive

# Update and upgrade packages
RUN apt-get update && apt-get upgrade -y

# Install curl, tmux и другие зависимости
RUN apt-get install -y curl gnupg2 tmux

# Install Node.js 20.x
RUN curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
RUN apt-get install -y nodejs

# Install Rivalz Node CLI globally
RUN npm install -g rivalz-node-cli

# Create application directory
RUN mkdir -p /app

# Set working directory
WORKDIR /app

# Set environment variable for shell prompt
ENV PS1="[Rivalz] \\w\\$ "

# Expose necessary ports (adjust if needed)
EXPOSE 3000

# Start a command that keeps the container running
CMD ["tail", "-f", "/dev/null"]
